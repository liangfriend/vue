# 坐标计算

## 位置计算所需信息补充

### 组件结构

measreContainer插槽父级节点： 相对布局

+ msMusicSymbolContainer(符号容器) 绝对布局
    + msMusicSymbol(符号) 绝对布局

### 符号容器类别

符号容器

+ 定宽容器：
    + 前置定宽容器
        + 拍号，调号， 以及特殊情况（单谱表第一个小节）下的谱号
    + 后置定宽容器
        + 谱号
+ 变宽容器：
    + 音符头容器等，需要计算小节内其它符号计算出最终宽度

## 容器横坐标位置计算

### 符号容器横坐标位置计算

符号容器
小节变宽容器宽度 = (小节宽度 - 定宽容器宽度)
变宽符号容器坐标计算：

+ left: 小节变宽容器宽度 / 小节宽度系数 * 符号之前的宽度占比常数和 + 前置定宽容器宽度
+ wdith:小节变宽容器宽度 / 小节宽度系数和 * 当前容器宽度系数

前置定宽符号容器坐标计算

+ left: 符号之前的定宽容器宽度
+ wdith:容器主符号宽度
+

后置置定宽符号容器坐标计算

+ left: 小节变宽容器宽度 + 符号之前的定宽容器宽度
+ wdith:容器主符号宽度

### 符号横坐标位置计算

+ 音符头
+ left: 符号容器宽度 / 2 + 符号宽度 / 2 (居中)

#### 补充说明

小节坐标就是其内部符号宽度系数之和变成grid布局里的fr自动形成均匀布局。所以不再另写文档赘述。